/*
** APRIMORAMENTO NOS LANÇAMENTOS DE CONTAS
*/

ALTER TABLE NATUOPER DROP CODCENTRO;

ALTER TABLE NATUOPER DROP CODPLANO;

ALTER TABLE NATUOPER ADD CODHISTORICOPAG INTEIRO;

ALTER TABLE HISTORICOPAG DROP CODPLANO;

ALTER TABLE HISTORICOPAG ADD CAD_CODCONTACRE INTEIRO;

ALTER TABLE HISTORICOPAG ADD CAD_CODCONTADEB INTEIRO;

ALTER TABLE HISTORICOPAG ADD LAN_CODCONTACRE INTEIRO;

ALTER TABLE HISTORICOPAG ADD LAN_CODCONTADEB INTEIRO;

ALTER TABLE NATUOPER
ADD CONSTRAINT NATUOPER_FK01
FOREIGN KEY (CODHISTORICOPAG)
REFERENCES HISTORICOPAG(CODIGO)
ON UPDATE CASCADE;

ALTER TABLE HISTORICOPAG
ADD CONSTRAINT HISTORICOPAG_FK02
FOREIGN KEY (CAD_CODCONTACRE)
REFERENCES PLANCONTAS(CODIGO)
ON UPDATE CASCADE;

ALTER TABLE HISTORICOPAG
ADD CONSTRAINT HISTORICOPAG_FK03
FOREIGN KEY (CAD_CODCONTADEB)
REFERENCES PLANCONTAS(CODIGO)
ON UPDATE CASCADE;

ALTER TABLE HISTORICOPAG
ADD CONSTRAINT HISTORICOPAG_FK04
FOREIGN KEY (LAN_CODCONTACRE)
REFERENCES PLANCONTAS(CODIGO)
ON UPDATE CASCADE;

ALTER TABLE HISTORICOPAG
ADD CONSTRAINT HISTORICOPAG_FK05
FOREIGN KEY (LAN_CODCONTADEB)
REFERENCES PLANCONTAS(CODIGO)
ON UPDATE CASCADE;

INSERT INTO SCRIPTVER(NUMERO, DATA) VALUES (327, CURRENT_TIMESTAMP);
COMMIT;

